<template lang="pug">
#page
  header
    // Index Cover Image
    .jumbotron.jumbotron-fluid.ngsek.flex-vertical(:style='asWindowHeightStyle')
      .container
        .row.justify-content-center
          .col-12.col-lg-5.text-center
            img.img-fluid.sr(src='/static/img/ngsek-01.svg', alt='黃色的我', title='黃色的我')
            a.btn.btn-light.scroll-down-btn(href='#', @click='')
              i.fas.fa-angle-down

  main
    // em optimization lab
    section#emo
      .container
        .row.justify-content-around.align-items-center
          .col-12.col-md-5.mb-3
            .work-img
              img.img-fluid.cover(src='/static/img/emo/cover.png', alt='emo cover')
          .col-12.col-md-5
            .work-content
              img(src='/static/img/emo/logo.svg', alt='emo logo')
              h2.text-light EM Optimization Lab
              h5.text-light 電磁最佳化實驗室網站
              a.btn.btn-sm.btn-primary(href='http://www.ntut.edu.tw/~yschen', target='_blank') Demo
              a.btn.btn-sm.btn-github(href='https://github.com/a92304a92304/EM', target='_blank')
                i.fab.fa-github-alt
                |  Github

    // Boss
    section#boss
      .container
        .row.justify-content-around.align-items-center
          .col-12.col-md-5.mb-3
            .work-img
              img.img-fluid.cover(src='/static/img/boss/cover.png', alt='boss cover')
              .chunchicha-small-sr
                img.chunchicha-small.d-none.d-lg-block(src='/static/img/boss/product.png', title="We don't actually sell this.")
          .col-12.col-md-5
            .work-content
              h2.text-light BOSS
              h5.text-light 線上飲料購物系統
              router-link.btn.btn-sm.btn-primary(to=`/work/boss`) Detail
              a.btn.btn-sm.btn-primary(href='http://boss.x-q.me', target='_blank') Demo
              a.btn.btn-sm.btn-github(href='https://github.com/a92304a92304/boss', target='_blank')
                i.fab.fa-github-alt
                |  Github

    // Typing Typing!
    section#typingtyping
      .container
        .row.justify-content-around.align-items-center
          .col-12.col-md-6.mb-3
            .work-img
              img.img-fluid.cover(src='/static/img/typingtyping/cover.png', key='0')
              img.img-fluid.cover(src='/static/img/typingtyping/cover1.png', hidden='', key='1')
          .col-12.col-md-5
            .work-content
              h2 Typing Typing!
              h5 8-bit 風格打字遊戲
              router-link.btn.btn-sm.btn-primary(to=`/work/typingtyping`) Detail
              a.btn.btn-sm.btn-primary(href='/static/file/TypingTyping.zip', target='_blank', data-toggle='tooltip', data-placement='bottom', title='7.7mb')
                i.fas.fa-download
                |  Download
              a.btn.btn-sm.btn-github(href='https://github.com/a92304a92304/Typing-Typing', target='_blank')
                i.fab.fa-github-alt
                |  Github

    // Shanlinliang
    section#shanlinliang
      .container
        .row.justify-content-around.align-items-center
          .col-12.col-md-6.mb-3
            .work-img
              img.img-fluid.cover(src='/static/img/shanlinliang/cover.png')
          .col-12.col-md-5
            .work-content
              img.img-fluid(src='/static/img/shanlinliang/cover2.png', alt='Shanlinliang')
              h5.text-light 涼扇領導品牌
              router-link.btn.btn-sm.btn-primary(to=`/work/shanlinliang`) Detail
              a.btn.btn-sm.btn-primary(href='/static/shanlinliang', target='_blank') Demo

    // 2017CAMP
    section#camp2017
      .container
        .row.justify-content-around.align-items-center
          .col-12.col-md-5
            .work-content0
              img.img-fluid.camp-sr(src='/static/img/camp2017/logo.png')
              h5.mt-3.camp-sr 2017迎新
              router-link.btn.btn-sm.btn-primary(to=`/work/camp2017`) Detail

    // JINGSHI XIFU
    section#jingshixifu
      .container
        .row.justify-content-around.align-items-center
          .col-12.col-md-5
            .work-content0
              img.img-fluid.camp-sr(src='/static/img/jingshixifu/logo.png', title='*無辜* 倫家哪知道婆婆捅一下就不行了辣 >///<')
              h5.mt-3.camp-sr 台灣經典鄉土劇
              router-link.btn.btn-sm.btn-primary(to=`/work/jingshixifu`) Detail
      .ink
        img.img-fluid(src='/static/img/jingshixifu/ink.png', alt='血跡')
</template>

<script>

export default {
  name: 'Index',
  data () {
    return {

    }
  },
  mounted () {
    var self = this

    self.windowHeight = $(window).height()  // 設定data.windowHeight值(視窗高度)
    $(window).resize(function () {
      self.windowHeight = $(window).height()
    })

    self.SetScrollReveal()

    $(() => {$('[data-toggle="tooltip"]').tooltip()}) // 啟用tooltip

    $(window).trigger('resize').trigger('scroll')
    self.SetParallexBg()
  },
  beforeRouteUpdate (to, from, next) {
    next()
  },
  methods: {
    SetParallexBg () {
      const path = `../static/img/bg/`
      // 頂部cover黃色背景
      $('.ngsek').parallax({imageSrc: `${path}index-cover.jpg`})
      $('#emo').parallax({imageSrc: `${path}emo.jpg`})
      $('#boss').parallax({imageSrc: `${path}boss.jpg`})
      $('#typingtyping').parallax({imageSrc: `${path}typingtyping.jpg`})
      $('#shanlinliang').parallax({imageSrc: `${path}shanlinliang.jpg`})
      $('#camp2017').parallax({imageSrc: `${path}camp2017.png`})
      $('#jingshixifu').parallax({imageSrc: `${path}jingshixifu.png`})
    },
    SetScrollReveal () {
      window.sr = this.$ScrollReveal({
        reset: false,
        duration: 1000,
        scale: 1,
      })

      sr.reveal('.sr')
      sr.reveal('.ngsek .sr',{reset: true} ,300)

      sr.reveal('.work-img', { distance: 0, scale: 1.1 })
      sr.reveal('.work-content', { origin: 'left', delay: 500, })

      sr.reveal('.camp-sr', { distance: 0, scale: .9 } ,200)

      sr.reveal('.ink', {scale: .8, delay: 1300, origin: 'bottom', distance: '50px',})

      // 純喫茶
      sr.reveal('.chunchicha-small-sr', {origin: 'top', delay: '600', scale: .95, easing: 'ease'})
    },
  },
  computed:{
    asWindowHeightStyle () {
      return {
        height : `${this.windowHeight}px`
      }
    },
  }
}
</script>3
